dist: xenial

language: python

branches:
  only:
    - master

matrix:
  include:
    - python: 3.5
    - python: 3.6
    - python: 3.7
    - python: 3.8

install:
  - sudo apt-get update
  - sudo apt-get install ca-certificates
  - sudo sed -e '$s,$,\ndeb http://download.opensuse.org/repositories/network:/messaging:/zeromq:/release-stable/Ubuntu:16.04/ ./,' -i /etc/apt/sources.list
  - sudo curl 'http://download.opensuse.org/repositories/network:/messaging:/zeromq:/release-stable/Ubuntu:16.04/Release.key' > Release.key
  - sudo apt-key add Release.key
  - sudo apt-get update
  - sudo apt-get install libzyre-dev libzmq3-dev libczmq-dev libzyre2 libczmq4 libzmq5
  - pip install tox

script:
  - tox